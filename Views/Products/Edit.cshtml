@model PesticideShop.Models.Product

@{
    ViewData["Title"] = "ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬";
}

<div class="fade-in">
    @if (TempData["SuccessMessage"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>âœ… ØªÙ… Ø¨Ù†Ø¬Ø§Ø­:</strong> @TempData["SuccessMessage"]
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    }

    @if (TempData["ErrorMessage"] != null)
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>âš ï¸ Ø®Ø·Ø£:</strong> @TempData["ErrorMessage"]
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    }

    <div class="d-flex justify-content-between align-items-center mb-4">
        <div class="d-flex align-items-center gap-3">
            <h1>âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ù…Ù†ØªØ¬</h1>
            <span class="badge bg-info">Ø§Ù„Ù…Ù†ØªØ¬ @ViewBag.CurrentPosition Ù…Ù† @ViewBag.TotalProducts</span>
        </div>
        <div class="d-flex gap-2">
            @if (ViewBag.PreviousProductId != null)
            {
                <a asp-action="Edit" asp-route-id="@ViewBag.PreviousProductId" 
                   class="btn btn-outline-primary" 
                   title="Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø³Ø§Ø¨Ù‚">
                    â† Ø§Ù„Ø³Ø§Ø¨Ù‚
                </a>
            }
            else
            {
                <button class="btn btn-outline-secondary" disabled title="Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ø³Ø§Ø¨Ù‚Ø©">
                    â† Ø§Ù„Ø³Ø§Ø¨Ù‚
                </button>
            }
            
            @if (ViewBag.NextProductId != null)
            {
                <a asp-action="Edit" asp-route-id="@ViewBag.NextProductId" 
                   class="btn btn-outline-primary" 
                   title="Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„ØªØ§Ù„ÙŠ">
                    Ø§Ù„ØªØ§Ù„ÙŠ â†’
                </a>
            }
            else
            {
                <button class="btn btn-outline-secondary" disabled title="Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª ØªØ§Ù„ÙŠØ©">
                    Ø§Ù„ØªØ§Ù„ÙŠ â†’
                </button>
            }
            
            <a asp-action="Index" class="btn btn-secondary">
                ğŸ“‹ Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©
            </a>
        </div>
    </div>

    <div class="card">
        <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
            <h5 class="mb-0">ğŸ“¦ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬: @Model.Name</h5>
            <span class="badge bg-light text-dark">ID: @Model.Id</span>
        </div>
        <div class="card-body">
            <form asp-action="Edit">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <input type="hidden" asp-for="Id" />
                
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label asp-for="QRCode" class="form-label">Ø±Ù…Ø² QR *</label>
                        <input asp-for="QRCode" class="form-control" placeholder="Ù…Ø«Ø§Ù„: QR001234" required />
                        <span asp-validation-for="QRCode" class="text-danger"></span>
                        <small class="text-muted">Ø±Ù…Ø² QR ÙØ±ÙŠØ¯ Ù„Ù„Ù…Ù†ØªØ¬</small>
                    </div>
                    
                    <div class="col-md-6 mb-3">
                        <label asp-for="Name" class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ *</label>
                        <input asp-for="Name" class="form-control" placeholder="Ù…Ø«Ø§Ù„: Ù‚Ù…ÙŠØµ Ù‚Ø·Ù†ÙŠ" required />
                        <span asp-validation-for="Name" class="text-danger"></span>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label asp-for="CategoryId" class="form-label">Ø§Ù„ØµÙ†Ù *</label>
                        <select asp-for="CategoryId" asp-items="ViewBag.Categories" class="form-select" required>
                            <option value="">Ø§Ø®ØªØ± Ø§Ù„ØµÙ†Ù</option>
                        </select>
                        <span asp-validation-for="CategoryId" class="text-danger"></span>
                        <small class="text-muted">Ø§Ø®ØªØ± Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù…Ù†ØªØ¬</small>
                    </div>
                    
                    <div class="col-md-4 mb-3">
                        <label asp-for="Color" class="form-label">Ø§Ù„Ù„ÙˆÙ† *</label>
                        <input asp-for="Color" class="form-control" placeholder="Ù…Ø«Ø§Ù„: Ø£Ø²Ø±Ù‚ØŒ Ø£Ø­Ù…Ø±ØŒ Ø£Ø³ÙˆØ¯" required />
                        <span asp-validation-for="Color" class="text-danger"></span>
                    </div>
                    
                    <div class="col-md-4 mb-3">
                        <label asp-for="Size" class="form-label">Ø§Ù„Ù…Ù‚Ø§Ø³ *</label>
                        <select asp-for="Size" class="form-select" required>
                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ù‚Ø§Ø³</option>
                            <option value="@PesticideShop.Models.ProductSize.Size32">32</option>
                            <option value="@PesticideShop.Models.ProductSize.Size33">33</option>
                            <option value="@PesticideShop.Models.ProductSize.Size34">34</option>
                            <option value="@PesticideShop.Models.ProductSize.Size35">35</option>
                            <option value="@PesticideShop.Models.ProductSize.Size36">36</option>
                            <option value="@PesticideShop.Models.ProductSize.Size37">37</option>
                            <option value="@PesticideShop.Models.ProductSize.Size38">38</option>
                            <option value="@PesticideShop.Models.ProductSize.Size39">39</option>
                            <option value="@PesticideShop.Models.ProductSize.Size40">40</option>
                            <option value="@PesticideShop.Models.ProductSize.Size41">41</option>
                            <option value="@PesticideShop.Models.ProductSize.Size42">42</option>
                            <option value="@PesticideShop.Models.ProductSize.Size43">43</option>
                            <option value="@PesticideShop.Models.ProductSize.Size44">44</option>
                            <option value="@PesticideShop.Models.ProductSize.XS">XS</option>
                            <option value="@PesticideShop.Models.ProductSize.S">S</option>
                            <option value="@PesticideShop.Models.ProductSize.M">M</option>
                            <option value="@PesticideShop.Models.ProductSize.L">L</option>
                            <option value="@PesticideShop.Models.ProductSize.XL">XL</option>
                            <option value="@PesticideShop.Models.ProductSize.XXL">XXL</option>
                            <option value="@PesticideShop.Models.ProductSize.XXXL">XXXL</option>
                            <option value="@PesticideShop.Models.ProductSize.OneSize">Ù…ÙˆØ­Ø¯</option>
                        </select>
                        <span asp-validation-for="Size" class="text-danger"></span>
                    </div>
                </div>
                
                <!-- Ø§Ù„ÙƒÙ…ÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø± -->
                <div class="row">
                    <div class="col-md-3 mb-3">
                        <label asp-for="Quantity" class="form-label">Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…ØªÙˆÙØ±Ø© *</label>
                        <input asp-for="Quantity" class="form-control" type="number" min="0" placeholder="Ù…Ø«Ø§Ù„: 50 Ø£Ùˆ 0" required />
                        <span asp-validation-for="Quantity" class="text-danger"></span>
                        <small class="text-muted">Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ù…ØªÙˆÙØ±Ø© (ÙŠÙ…ÙƒÙ† Ø£Ù† ØªÙƒÙˆÙ† 0)</small>
                    </div>
                    
                    <div class="col-md-3 mb-3">
                        <label asp-for="Price" class="form-label">Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹ *</label>
                        <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input asp-for="Price" class="form-control" type="number" step="0.01" min="0" placeholder="150.00" required />
                        </div>
                        <span asp-validation-for="Price" class="text-danger"></span>
                        <small class="text-muted">Ø³Ø¹Ø± Ø§Ù„Ù‚Ø·Ø¹Ø©</small>
                    </div>
                    
                    <div class="col-md-3 mb-3">
                        <label asp-for="CartonPrice" class="form-label">Ø³Ø¹Ø± Ø§Ù„Ø¬Ù…Ù„Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                        <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input asp-for="CartonPrice" class="form-control" type="number" step="0.01" min="0" placeholder="1200.00" />
                        </div>
                        <span asp-validation-for="CartonPrice" class="text-danger"></span>
                        <small class="text-muted">Ø³Ø¹Ø± Ø§Ù„ÙƒØ±ØªÙˆÙ†Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</small>
                    </div>
                    
                    <div class="col-md-3 mb-3">
                        <label class="form-label">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©</label>
                        <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input type="text" id="totalValue" class="form-control" readonly />
                        </div>
                        <small class="text-muted">Ø§Ù„ÙƒÙ…ÙŠØ© Ã— Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹</small>
                    </div>
                </div>
                
                <!-- Available Colors & Sizes Section -->
                <div class="row">
                    <div class="col-12 mb-3">
                        <h5>ğŸ¨ Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ù…Ù‚Ø§Ø³Ø§Øª Ø§Ù„Ù…ØªÙˆÙØ±Ø©</h5>
                        <hr>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <div class="form-check">
                            <input asp-for="HasMultipleColors" class="form-check-input" type="checkbox" id="hasMultipleColors" />
                            <label class="form-check-label" for="hasMultipleColors">
                                ğŸ¨ Ù…ØªÙˆÙØ± Ø¨Ø£Ù„ÙˆØ§Ù† Ø£Ø®Ø±Ù‰
                            </label>
                        </div>
                        <small class="text-muted">Ø­Ø¯Ø¯ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ Ù…ØªÙˆÙØ± Ø¨Ø£Ù„ÙˆØ§Ù† Ù…Ø®ØªÙ„ÙØ©</small>
                    </div>
                    
                    <div class="col-md-6 mb-3">
                        <div class="form-check">
                            <input asp-for="HasMultipleSizes" class="form-check-input" type="checkbox" id="hasMultipleSizes" />
                            <label class="form-check-label" for="hasMultipleSizes">
                                ğŸ“ Ù…ØªÙˆÙØ± Ø¨Ù…Ù‚Ø§Ø³Ø§Øª Ø£Ø®Ø±Ù‰
                            </label>
                        </div>
                        <small class="text-muted">Ø­Ø¯Ø¯ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ Ù…ØªÙˆÙØ± Ø¨Ù…Ù‚Ø§Ø³Ø§Øª Ù…Ø®ØªÙ„ÙØ©</small>
                    </div>
                </div>
                
                <div class="row" id="availableColorsSection" style="display: none;">
                    <div class="col-md-12 mb-3">
                        <label asp-for="AvailableColors" class="form-label">ğŸ¨ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØªÙˆÙØ±Ø©</label>
                        <textarea asp-for="AvailableColors" class="form-control" rows="3" 
                                  placeholder="Ù…Ø«Ø§Ù„: Ø£Ø­Ù…Ø±ØŒ Ø£Ø²Ø±Ù‚ØŒ Ø£Ø®Ø¶Ø±ØŒ Ø£Ø³ÙˆØ¯ØŒ Ø£Ø¨ÙŠØ¶" 
                                  maxlength="200"></textarea>
                        <span asp-validation-for="AvailableColors" class="text-danger"></span>
                        <small class="text-muted">Ø§ÙƒØªØ¨ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØªÙˆÙØ±Ø© Ù…ÙØµÙˆÙ„Ø© Ø¨ÙÙˆØ§ØµÙ„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</small>
                    </div>
                </div>
                
                <div class="row" id="availableSizesSection" style="display: none;">
                    <div class="col-md-12 mb-3">
                        <label asp-for="AvailableSizes" class="form-label">ğŸ“ Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª Ø§Ù„Ù…ØªÙˆÙØ±Ø©</label>
                        <textarea asp-for="AvailableSizes" class="form-control" rows="3" 
                                  placeholder="Ù…Ø«Ø§Ù„: 32ØŒ 34ØŒ 36ØŒ 38ØŒ 40ØŒ 42ØŒ 44ØŒ SØŒ MØŒ LØŒ XL" 
                                  maxlength="200"></textarea>
                        <span asp-validation-for="AvailableSizes" class="text-danger"></span>
                        <small class="text-muted">Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª Ø§Ù„Ù…ØªÙˆÙØ±Ø© Ù…ÙØµÙˆÙ„Ø© Ø¨ÙÙˆØ§ØµÙ„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</small>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-12 mb-3">
                        <label asp-for="Notes" class="form-label">Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
                        <textarea asp-for="Notes" class="form-control" rows="3" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ø­ÙˆÙ„ Ø§Ù„Ù…Ù†ØªØ¬ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"></textarea>
                        <span asp-validation-for="Notes" class="text-danger"></span>
                    </div>
                </div>
                
                <div class="d-flex justify-content-between flex-row-reverse">
                    <button type="submit" class="btn btn-warning ms-2">
                        âœï¸ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬
                    </button>
                    <a asp-action="Index" class="btn btn-secondary">
                        â† Ø¥Ù„ØºØ§Ø¡
                    </a>
                </div>
                
                <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³ÙÙ„ÙŠØ© -->
                <hr class="my-4">
                <div class="d-flex justify-content-between align-items-center">
                    @if (ViewBag.PreviousProductId != null)
                    {
                        <a asp-action="Edit" asp-route-id="@ViewBag.PreviousProductId" 
                           class="btn btn-outline-primary" 
                           id="prevProductBtn"
                           title="Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø³Ø§Ø¨Ù‚ (Alt + â†)">
                            â¬…ï¸ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø³Ø§Ø¨Ù‚
                        </a>
                    }
                    else
                    {
                        <button class="btn btn-outline-secondary" disabled>
                            â¬…ï¸ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø³Ø§Ø¨Ù‚
                        </button>
                    }
                    
                    <span class="text-muted">
                        <i class="fas fa-keyboard"></i> 
                        Ø§Ø³ØªØ®Ø¯Ù… <kbd>Alt + â†</kbd> Ù„Ù„Ø³Ø§Ø¨Ù‚ | <kbd>Alt + â†’</kbd> Ù„Ù„ØªØ§Ù„ÙŠ
                    </span>
                    
                    @if (ViewBag.NextProductId != null)
                    {
                        <a asp-action="Edit" asp-route-id="@ViewBag.NextProductId" 
                           class="btn btn-outline-primary" 
                           id="nextProductBtn"
                           title="Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„ØªØ§Ù„ÙŠ (Alt + â†’)">
                            Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„ØªØ§Ù„ÙŠ â¡ï¸
                        </a>
                    }
                    else
                    {
                        <button class="btn btn-outline-secondary" disabled>
                            Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„ØªØ§Ù„ÙŠ â¡ï¸
                        </button>
                    }
                </div>
            </form>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const quantityInput = document.querySelector('input[name="Quantity"]');
    const priceInput = document.querySelector('input[name="Price"]');
    const totalValueInput = document.getElementById('totalValue');
    
    function calculateTotalValue() {
        const quantity = parseInt(quantityInput.value) || 0;
        const price = parseFloat(priceInput.value) || 0;
        const totalValue = quantity * price;
        totalValueInput.value = totalValue.toFixed(2);
    }
    
    // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
    quantityInput.addEventListener('input', calculateTotalValue);
    priceInput.addEventListener('input', calculateTotalValue);
    
    // Ø­Ø³Ø§Ø¨ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    calculateTotalValue();
    
    // Ø¥Ø¶Ø§ÙØ© ØªÙ„Ù…ÙŠØ­Ø§Øª ØªÙØ§Ø¹Ù„ÙŠØ©
    quantityInput.addEventListener('focus', function() {
        this.placeholder = 'Ù…Ø«Ø§Ù„: 50 Ù‚Ø·Ø¹Ø©';
    });
    
    priceInput.addEventListener('focus', function() {
        this.placeholder = 'Ù…Ø«Ø§Ù„: 150.00 Ø¬Ù†ÙŠÙ‡';
    });
    
    // Ø¥Ø¶Ø§ÙØ© ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    quantityInput.addEventListener('blur', function() {
        const value = parseInt(this.value);
        if (value < 0) {
            this.value = 0;
            calculateTotalValue();
        }
        // Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ù€ 0 ÙƒÙ‚ÙŠÙ…Ø© ØµØ­ÙŠØ­Ø©
        if (isNaN(value)) {
            this.value = 0;
            calculateTotalValue();
        }
    });
    
    priceInput.addEventListener('blur', function() {
        const value = parseFloat(this.value);
        if (value < 0) {
            this.value = 0;
            calculateTotalValue();
        }
    });
    
    // Ø¥Ø¶Ø§ÙØ© ØªØ­Ù‚Ù‚ Ù…Ù† Ø³Ø¹Ø± Ø§Ù„Ø¬Ù…Ù„Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
    const cartonPriceInput = document.querySelector('input[name="CartonPrice"]');
    if (cartonPriceInput) {
        cartonPriceInput.addEventListener('blur', function() {
            const value = parseFloat(this.value);
            if (this.value !== '' && value < 0) {
                this.value = '';
            }
        });
    }

    // Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ù…Ù‚Ø§Ø³Ø§Øª Ø§Ù„Ù…ØªÙˆÙØ±Ø©
    const hasMultipleColorsCheckbox = document.getElementById('hasMultipleColors');
    const hasMultipleSizesCheckbox = document.getElementById('hasMultipleSizes');
    const availableColorsSection = document.getElementById('availableColorsSection');
    const availableSizesSection = document.getElementById('availableSizesSection');

    // Ø¯Ø§Ù„Ø© Ù„Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ù‚Ø³Ù… Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØªÙˆÙØ±Ø©
    function toggleAvailableColors() {
        if (hasMultipleColorsCheckbox.checked) {
            availableColorsSection.style.display = 'block';
        } else {
            availableColorsSection.style.display = 'none';
            // Ù…Ø³Ø­ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø¹Ù†Ø¯ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ¯
            document.getElementById('AvailableColors').value = '';
        }
    }

    // Ø¯Ø§Ù„Ø© Ù„Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ù‚Ø³Ù… Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª Ø§Ù„Ù…ØªÙˆÙØ±Ø©
    function toggleAvailableSizes() {
        if (hasMultipleSizesCheckbox.checked) {
            availableSizesSection.style.display = 'block';
        } else {
            availableSizesSection.style.display = 'none';
            // Ù…Ø³Ø­ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø¹Ù†Ø¯ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ¯
            document.getElementById('AvailableSizes').value = '';
        }
    }

    // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
    hasMultipleColorsCheckbox.addEventListener('change', toggleAvailableColors);
    hasMultipleSizesCheckbox.addEventListener('change', toggleAvailableSizes);

    // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    toggleAvailableColors();
    toggleAvailableSizes();
    
    // Ø¥Ø¶Ø§ÙØ© Ø§Ø®ØªØµØ§Ø±Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ Ù„Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
    document.addEventListener('keydown', function(event) {
        // Alt + Ø§Ù„Ø³Ù‡Ù… Ø§Ù„Ø£ÙŠØ³Ø± = Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø³Ø§Ø¨Ù‚
        if (event.altKey && event.key === 'ArrowLeft') {
            event.preventDefault();
            const prevBtn = document.getElementById('prevProductBtn');
            if (prevBtn) {
                prevBtn.click();
            }
        }
        
        // Alt + Ø§Ù„Ø³Ù‡Ù… Ø§Ù„Ø£ÙŠÙ…Ù† = Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„ØªØ§Ù„ÙŠ
        if (event.altKey && event.key === 'ArrowRight') {
            event.preventDefault();
            const nextBtn = document.getElementById('nextProductBtn');
            if (nextBtn) {
                nextBtn.click();
            }
        }
    });
});
</script>

<style>
    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¨ØµØ±ÙŠØ© Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ */
    .btn-outline-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,123,255,0.3);
        transition: all 0.3s ease;
    }
    
    .badge.bg-info {
        font-size: 0.9rem;
        padding: 0.5rem 1rem;
        animation: pulse 2s infinite;
    }
    
    @@keyframes pulse {
        0%, 100% {
            opacity: 1;
        }
        50% {
            opacity: 0.7;
        }
    }
    
    kbd {
        background-color: #f7f7f7;
        border: 1px solid #ccc;
        border-radius: 3px;
        box-shadow: 0 1px 0 rgba(0,0,0,0.2);
        color: #333;
        display: inline-block;
        font-family: monospace;
        font-size: 0.85em;
        padding: 2px 6px;
        margin: 0 2px;
    }
    
    .card-header.bg-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    }
    
    /* ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„ØªÙ†Ù‚Ù„ */
    .fade-in {
        animation: fadeIn 0.5s ease-in;
    }
    
    @@keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    /* ØªØ­Ø³ÙŠÙ† Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³ÙÙ„ÙŠØ© */
    hr.my-4 {
        border-top: 2px dashed #dee2e6;
        margin: 2rem 0;
    }
    
    .btn-outline-primary {
        border-width: 2px;
        font-weight: 500;
    }
    
    .btn-outline-primary:disabled,
    .btn-outline-secondary:disabled {
        cursor: not-allowed;
        opacity: 0.4;
    }
</style>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
} 